<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="QS-GyoggW[5og9,I(Q[P">ble_connected</variable><variable id="gNVc8srLdV:bp@}RYX:v">password</variable><variable id="dS3,QeJBPcoT?et@QjGy">command</variable></variables><block type="pxt-on-start" id="aJcDlYI9cdVn*v~hJCs%" x="422" y="2"><statement name="HANDLER"><block type="serial_writeline" id="Te1w2o+o%Yzg!-u2jJ/y"><value name="text"><shadow type="text" id="u:Y+XR+Qoy1^L7Ug{[P@"><field name="TEXT">started</field></shadow></value><next><block type="function_call" id="nVRw-E#V32~bTO|)C@g@"><mutation name="basicBLEAdvertise" functionid="!^et#Zn;Xl)f3qE$T{:B"/></block></next></block></statement></block><block type="bluetooth_on_connected" id="tU?-uC],rQjoQz8XPcL2" x="737" y="0"><statement name="HANDLER"><block type="serial_writeline" id="|MK51mWHIR(B2uaW,Zj^"><value name="text"><shadow type="text" id="mopVM6=r}:O^b4w?]ulw"><field name="TEXT">connected</field></shadow></value><next><block type="variables_set" id=";cjEgxM;P@HD|$JH6B,:"><field name="VAR" id="QS-GyoggW[5og9,I(Q[P">ble_connected</field><value name="VALUE"><shadow type="math_number" id="o9Y#,22~EZBB)y*/M4uN"><field name="NUM">1</field></shadow></value><next><block type="serial_writeline" id=".p1R.[I~L]seH~!(TmYt"><value name="text"><shadow type="text" id="WZo6ycI@d$xUj9nq;,5M"><field name="TEXT">waiting for password</field></shadow></value><next><block type="device_show_leds" id=";6rmnXVLqW,aXrAdC^_c"><field name="LEDS">`&#10;        . . # . . &#10;        . . . # . &#10;        # # # # # &#10;        . . . # . &#10;        . . # . .&#10;        `</field></block></next></block></next></block></next></block></statement></block><block type="bluetooth_on_disconnected" id="|?F5t~Fw-Dq)*hG3z,.n" x="1188" y="11"><statement name="HANDLER"><block type="serial_writeline" id="|2,$PY%^7V,!Q+Mw-cMr"><value name="text"><shadow type="text" id="n@Ye~;CVmDd_)a/rOQP^"><field name="TEXT">disconnected</field></shadow></value><next><block type="variables_set" id="ZV$p_n|/S-,@9CF+$[[w"><field name="VAR" id="QS-GyoggW[5og9,I(Q[P">ble_connected</field><value name="VALUE"><shadow type="math_number" id="PT6lW#]/Urs+cQ}RHmnx"><field name="NUM">-1</field></shadow></value><next><block type="device_show_leds" id="xunz@j=dj4zmTscdYm_8"><field name="LEDS">`&#10;        . . . . . &#10;        . # . # . &#10;        . . . . . &#10;        . # # # . &#10;        # . . . #&#10;        `</field><next><block type="eddystone_stop_advertising" id="t(8MFV52#AZqtuv|AD-v"><next><block type="function_call" id="9rYUlQEk2=2E-Z388PMl"><mutation name="basicBLEAdvertise" functionid="!^et#Zn;Xl)f3qE$T{:B"/></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="v2=GP.Eh-]L`28BPETgC" x="1557" y="4"><mutation name="publishBLEServices" functionid="h8z-WT%zL4|jy)9aF_k("/><field name="function_name">publishBLEServices</field><statement name="STACK"><block type="bluetooth_start_button_service" id="!V/VBD==0j-:fJQa`O*z"/></statement></block><block type="device_forever" id="tkkUp)mxx~XcRYy[1[?~" x="427" y="268"/><block type="function_definition" id="B%]kc1K2$dPMuK#PfRL@" x="1706" y="413"><mutation name="basicBLEAdvertise" functionid="!^et#Zn;Xl)f3qE$T{:B"/><field name="function_name">basicBLEAdvertise</field><statement name="STACK"><block type="eddystone_advertise_uid" id="!t]pNv::]I-,2yO{F~d$"><value name="ns"><shadow type="math_number" id="g.CB-OE1?JR}E1ZvAar6"><field name="NUM">0</field></shadow></value><value name="instance"><shadow type="math_number" id="Z7et/nQ3odxmu,?Q6iYw"><field name="NUM">0</field></shadow></value><value name="power"><shadow type="math_number" id="9Ta|npQ6=[b+Rl!Ju^DI"><field name="NUM">7</field></shadow></value><value name="connectable"><shadow type="logic_boolean" id="yI5~uV40~9F~cEbXiEfF"><field name="BOOL">TRUE</field></shadow></value><next><block type="device_show_leds" id="64?_[nfP}Q*A.fi)0E4,"><field name="LEDS">`&#10;        # . # # . &#10;        . # # . # &#10;        . . # # . &#10;        . # # . # &#10;        # . # # .&#10;        `</field><next><block type="bluetooth_start_uart_service" id="KL~%b5MZ6/JY2q+.Qx-R"/></next></block></next></block></statement></block><block type="bluetooth_on_data_received" id="N}f-yp|h`q+B(lI6#Gr8" x="21" y="536"><value name="delimiters"><shadow type="serial_delimiter_conv" id="VNf@ZnET;LGlY=+#4bQ="><field name="del">Delimiters.Dollar</field></shadow></value><statement name="HANDLER"><block type="variables_set" id="x4ih;V[wlQb.^)./FP^x"><field name="VAR" id="dS3,QeJBPcoT?et@QjGy">command</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="bluetooth_uart_read" id="1([d]xOaL|JqiCQlW*d5"><value name="del"><shadow type="serial_delimiter_conv" id=")0rjCaI0~Hgt+mA|G)}`"><field name="del">Delimiters.Dollar</field></shadow></value></block></value><next><block type="serial_writeline" id=".#ZBpO#v2lV_B+#Y=[(W"><value name="text"><shadow type="text"><field name="TEXT">connesso</field></shadow><block type="text_join" id="woRocYIUiJ.(w,~EZWyi"><mutation items="2"/><value name="ADD0"><shadow type="text" id="mcc~Kehl;|IR#C6?+8yh"><field name="TEXT">received command:</field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT">World</field></shadow><block type="string_substr" id="X3bJNKKKyYx90?ZHh_rf"><value name="this"><shadow type="text"><field name="TEXT">this</field></shadow><block type="variables_get" id="c|WEnwHQJcGKcH?QY^^t"><field name="VAR" id="dS3,QeJBPcoT?et@QjGy">command</field></block></value><value name="start"><shadow type="math_number" id="n]-#$}NW*0Qi*|#JAXHJ"><field name="NUM">0</field></shadow></value><value name="length"><shadow type="math_number" id="2.??Re+iS8yZu3U{,%VU"><field name="NUM">1</field></shadow></value></block></value></block></value><next><block type="controls_if" id="CfZit4|2^w|yo(1G$D}q"><mutation elseif="1" else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="C{*q}=pdpRbCE%k}P%$o"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_substr" id="(7~/rRm^?Dl[|=s;%4B:"><value name="this"><shadow type="text"><field name="TEXT">this</field></shadow><block type="variables_get" id=":d|l6!gNv3#i`0#gnP*C"><field name="VAR" id="dS3,QeJBPcoT?et@QjGy">command</field></block></value><value name="start"><shadow type="math_number" id="mj=@[:73KAI!ZE9]twTe"><field name="NUM">0</field></shadow></value><value name="length"><shadow type="math_number" id=";WwG/F~nxaJ+|m5!?15I"><field name="NUM">1</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">9</field></shadow><block type="text" id="Zh|]`,d=9:G)_XC9v%|)"><field name="TEXT">9</field></block></value></block></value><statement name="DO0"><block type="serial_writeline" id="J(]sVFFxBggejiz)dX2r"><value name="text"><shadow type="text" id="G$I.2O+4QgK}lKj03V(D"><field name="TEXT">requested password</field></shadow></value><next><block type="function_call" id="-(11)-pxLc4Jq4SwRoi]"><mutation name="cmdPassword" functionid="4mq2sM*tUS@2B,XN2coN"><arg name="pwd" id="MK$ZH;f$c.,u2hs8d6Qo" type="string"/></mutation><value name="MK$ZH;f$c.,u2hs8d6Qo"><shadow type="text" id="85{5:jE-=lD%`vJ4wxIW"><field name="TEXT">abc</field></shadow><block type="string_substr" id="aMvwdxVCSf=;,C5k!=i$"><value name="this"><shadow type="text"><field name="TEXT">this</field></shadow><block type="variables_get" id="`TMw/T1@{C`9,GDfK{Yc"><field name="VAR" id="dS3,QeJBPcoT?et@QjGy">command</field></block></value><value name="start"><shadow type="math_number" id="wIlRD?ff9FK|MeIoRf3{"><field name="NUM">1</field></shadow></value><value name="length"><shadow type="math_number" id="_|tG]HQ|hJ[P^9%Cz)wJ"><field name="NUM">1</field></shadow></value></block></value></block></next></block></statement><value name="IF1"><block type="logic_compare" id="LvF`XW@Zj8g=7pdI~tQA"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_substr" id="hH$ai`K=GGTA+aAwRVf7"><value name="this"><shadow type="text"><field name="TEXT">this</field></shadow><block type="variables_get" id="9RTnEDQ5FP-_*C2A1[E)"><field name="VAR" id="dS3,QeJBPcoT?et@QjGy">command</field></block></value><value name="start"><shadow type="math_number" id="|00ZjqZ9}pn{Lrm/w-x6"><field name="NUM">0</field></shadow></value><value name="length"><shadow type="math_number" id=".TRn9xz?5/;_F`vqE!W6"><field name="NUM">1</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">9</field></shadow><block type="text" id="ZdTFh#(/)OSplOxTHw$s"><field name="TEXT">1</field></block></value></block></value><statement name="DO1"><block type="serial_writeline" id="^5$lj+y1i~91M5Y0ut2s"><value name="text"><shadow type="text" id="kbEZaD9ljx!A4J;QO`$A"><field name="TEXT">requested pin activation</field></shadow></value><next><block type="function_call" id="m[/}/ru#{oOjl#WMkSk."><mutation name="activatePin" functionid="H3rl0-(C+U=_x=W8nEVw"/></block></next></block></statement><statement name="ELSE"><block type="serial_writeline" id="svQ[$G*|.?0Yu*=QX9l."><value name="text"><shadow type="text" id="~%oaCIAJl:$n#i^d7c7*"><field name="TEXT">invalid command</field></shadow></value></block></statement></block></next></block></next></block></statement></block><block type="variables_get" id="a$~,=7zTYBz.5zi7h.w." disabled="true" x="165" y="768"><field name="VAR" id="dS3,QeJBPcoT?et@QjGy">command</field></block><block type="variables_get" id="UqQE9|A%[(n=23t]$hgJ" disabled="true" x="272" y="868"><field name="VAR" id="dS3,QeJBPcoT?et@QjGy">command</field></block><block type="variables_get" id="fUc:}/D*7/4XEx4:[p.=" disabled="true" x="197" y="919"><field name="VAR" id="dS3,QeJBPcoT?et@QjGy">command</field></block><block type="function_definition" id=":ib;d?echM~Z?r.kcvTy" x="0" y="1264"><mutation name="activatePin" functionid="H3rl0-(C+U=_x=W8nEVw"/><field name="function_name">activatePin</field><statement name="STACK"><block type="serial_writeline" id="*A2|d1i6`72oXw;]Zmfq"><value name="text"><shadow type="text" id="1T7$-:2LD$rHz/;PcM#U"><field name="TEXT">activatePin</field></shadow></value><next><block type="controls_if" id=".[u$mSMS,0WMN^([wrlD"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="pv-SIW}#EBuMm8rbSzcK"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="{?E9cxn(n(P.UUQsH5(j"><field name="VAR" id="QS-GyoggW[5og9,I(Q[P">ble_connected</field></block></value><value name="B"><shadow type="math_number" id="ygXakdC?}pR]CRQbHOH/"><field name="NUM">2</field></shadow></value></block></value><statement name="DO0"><block type="serial_writeline" id="Opv-wo?+NVVnEi1u/L#_"><value name="text"><shadow type="text" id="2/:6-Xcio7q}n@:/ql.O"><field name="TEXT">activating...</field></shadow></value></block></statement><statement name="ELSE"><block type="serial_writeline" id="W9!a%4mtdgN/Hp$VGqXX"><value name="text"><shadow type="text" id="[El*s^[]PGzR.c_e[hoL"><field name="TEXT">denied</field></shadow></value></block></statement></block></next></block></statement></block><block type="function_definition" id="7bQ3l7zk%GN77-|^u7.t" x="569" y="1267"><mutation name="cmdPassword" functionid="4mq2sM*tUS@2B,XN2coN"><arg name="pwd" id="MK$ZH;f$c.,u2hs8d6Qo" type="string"/></mutation><field name="function_name">cmdPassword</field><value name="MK$ZH;f$c.,u2hs8d6Qo"><shadow type="argument_reporter_string" id="4QS:jLnhU:%oAu=JG6G:"><field name="VALUE">pwd</field></shadow></value><statement name="STACK"><block type="serial_writeline" id="]F8-~HDm@3MHtI)B!pE?"><value name="text"><shadow type="text"><field name="TEXT">connesso</field></shadow><block type="text_join" id="OzrQ0$FI#%,n;9=,~8en"><mutation items="2"/><value name="ADD0"><shadow type="text" id="hXa%`Tum]EzOV.)fg5pW"><field name="TEXT">received password:</field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT">World</field></shadow><block type="argument_reporter_string" id="dc5v+9N=Fj~OMYfuXf:d"><field name="VALUE">pwd</field></block></value></block></value><next><block type="controls_if" id="_CIY.SVV?(76rvg8tD5$"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="N;/Vv.y|:;t%#I#q;lba"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_string" id="g+;ckTPdVNU@5fq|irJ^"><field name="VALUE">pwd</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">9</field></shadow><block type="text" id="!A]ACBw#{UQjnX18UoBF"><field name="TEXT">9</field></block></value></block></value><statement name="DO0"><block type="serial_writeline" id="QMm@W;ALc^9]$rQwg{`K"><value name="text"><shadow type="text" id="hX]emmGes1Jnd?SaT||I"><field name="TEXT">password ok</field></shadow></value><next><block type="variables_set" id="(beU%%+whW9nI]Z_=N@*"><field name="VAR" id="QS-GyoggW[5og9,I(Q[P">ble_connected</field><value name="VALUE"><shadow type="math_number" id="KHdK]CeO2^-#wu*^^@@V"><field name="NUM">2</field></shadow></value><next><block type="function_call" id="[6#Cw=0(B4O_ewXhn6#D"><mutation name="publishBLEServices" functionid="h8z-WT%zL4|jy)9aF_k("/><next><block type="device_show_leds" id="JMQ,[+T,vp~=,ADk~dX;"><field name="LEDS">`&#10;        . . . . . &#10;        . . . . # &#10;        . . . # . &#10;        # . # . . &#10;        . # . . .&#10;        `</field></block></next></block></next></block></next></block></statement><statement name="ELSE"><block type="serial_writeline" id="j{PjXj`$4OjZ|+MnD=X3"><value name="text"><shadow type="text" id="j,qpM4BC`7E{84u.gfE8"><field name="TEXT">password ko</field></shadow></value><next><block type="serial_writeline" id="AHC9bK?Vh!N#zGcS_.bF"><value name="text"><shadow type="text"><field name="TEXT">password ko</field></shadow><block type="variables_get" id="8d-OOvKa1/gv4c6;93@U"><field name="VAR" id="gNVc8srLdV:bp@}RYX:v">password</field></block></value><next><block type="eddystone_stop_advertising" id="@QsBf6,kE7*ci1c{n$^F"><next><block type="function_call" id="e~umaOxokdS(%)Ami^#_"><mutation name="basicBLEAdvertise" functionid="!^et#Zn;Xl)f3qE$T{:B"/></block></next></block></next></block></next></block></statement></block></next></block></statement></block><block type="variables_get" id="/prlQ07QW9k:#JMBw75%" disabled="true" x="710" y="1444"><field name="VAR" id="gNVc8srLdV:bp@}RYX:v">password</field></block></xml>