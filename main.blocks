<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="QS-GyoggW[5og9,I(Q[P">ble_connected</variable><variable id="gNVc8srLdV:bp@}RYX:v">password</variable><variable id="dS3,QeJBPcoT?et@QjGy">command</variable><variable id="zw=zKy*xZ!6}L~GE!]%x">SYS_PASSWORD</variable><variable id="+7M8*~sBk^5JkW^h0p0?">command_code</variable><variable id="!~8.DzEt*g+}~Es09:(E">list</variable></variables><block type="pxt-on-start" id="aJcDlYI9cdVn*v~hJCs%" x="-36" y="-50"><statement name="HANDLER"><block type="serial_writeline" id="Te1w2o+o%Yzg!-u2jJ/y"><value name="text"><shadow type="text" id="u:Y+XR+Qoy1^L7Ug{[P@"><field name="TEXT">started</field></shadow></value><next><block type="function_call" id="nVRw-E#V32~bTO|)C@g@"><mutation name="basicBLEAdvertise" functionid="!^et#Zn;Xl)f3qE$T{:B"/><next><block type="variables_set" id="z[ofsSK=]GQDx]@ok{$X"><field name="VAR" id="zw=zKy*xZ!6}L~GE!]%x">SYS_PASSWORD</field><value name="VALUE"><shadow type="math_number" id="{p1-vbJ^alU/w6Mi{86m"><field name="NUM">0</field></shadow><block type="text" id="abnK8k]JG,7O1U{9_{p9"><field name="TEXT">AAAA</field></block></value></block></next></block></next></block></statement></block><block type="device_forever" id="tkkUp)mxx~XcRYy[1[?~" x="350" y="-53"/><block type="bluetooth_on_connected" id="tU?-uC],rQjoQz8XPcL2" x="573" y="-58"><statement name="HANDLER"><block type="serial_writeline" id="|MK51mWHIR(B2uaW,Zj^"><value name="text"><shadow type="text" id="mopVM6=r}:O^b4w?]ulw"><field name="TEXT">connected</field></shadow></value><next><block type="variables_set" id=";cjEgxM;P@HD|$JH6B,:"><field name="VAR" id="QS-GyoggW[5og9,I(Q[P">ble_connected</field><value name="VALUE"><shadow type="math_number" id="o9Y#,22~EZBB)y*/M4uN"><field name="NUM">1</field></shadow></value><next><block type="serial_writeline" id=".p1R.[I~L]seH~!(TmYt"><value name="text"><shadow type="text" id="WZo6ycI@d$xUj9nq;,5M"><field name="TEXT">waiting for password</field></shadow></value><next><block type="device_show_leds" id=";6rmnXVLqW,aXrAdC^_c"><field name="LEDS">`&#10;        . . # . . &#10;        . . # . . &#10;        # . # . # &#10;        . # # # . &#10;        . . # . .&#10;        `</field></block></next></block></next></block></next></block></statement></block><block type="bluetooth_on_disconnected" id="|?F5t~Fw-Dq)*hG3z,.n" x="1065" y="-75"><statement name="HANDLER"><block type="serial_writeline" id="|2,$PY%^7V,!Q+Mw-cMr"><value name="text"><shadow type="text" id="n@Ye~;CVmDd_)a/rOQP^"><field name="TEXT">disconnected</field></shadow></value><next><block type="variables_set" id="ZV$p_n|/S-,@9CF+$[[w"><field name="VAR" id="QS-GyoggW[5og9,I(Q[P">ble_connected</field><value name="VALUE"><shadow type="math_number" id="PT6lW#]/Urs+cQ}RHmnx"><field name="NUM">-1</field></shadow></value><next><block type="device_show_leds" id="xunz@j=dj4zmTscdYm_8"><field name="LEDS">`&#10;        . . . . . &#10;        . # . # . &#10;        . . . . . &#10;        . # # # . &#10;        # . . . #&#10;        `</field><next><block type="eddystone_stop_advertising" id="t(8MFV52#AZqtuv|AD-v"><next><block type="function_call" id="9rYUlQEk2=2E-Z388PMl"><mutation name="basicBLEAdvertise" functionid="!^et#Zn;Xl)f3qE$T{:B"/></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="v2=GP.Eh-]L`28BPETgC" x="1486" y="-87"><mutation name="publishBLEServices" functionid="h8z-WT%zL4|jy)9aF_k("/><field name="function_name">publishBLEServices</field><statement name="STACK"><block type="bluetooth_start_button_service" id="!V/VBD==0j-:fJQa`O*z"/></statement></block><block type="function_definition" id="B%]kc1K2$dPMuK#PfRL@" x="1489" y="126"><mutation name="basicBLEAdvertise" functionid="!^et#Zn;Xl)f3qE$T{:B"/><field name="function_name">basicBLEAdvertise</field><statement name="STACK"><block type="eddystone_advertise_uid" id="!t]pNv::]I-,2yO{F~d$"><value name="ns"><shadow type="math_number" id="g.CB-OE1?JR}E1ZvAar6"><field name="NUM">0</field></shadow></value><value name="instance"><shadow type="math_number" id="Z7et/nQ3odxmu,?Q6iYw"><field name="NUM">0</field></shadow></value><value name="power"><shadow type="math_number" id="9Ta|npQ6=[b+Rl!Ju^DI"><field name="NUM">7</field></shadow></value><value name="connectable"><shadow type="logic_boolean" id="yI5~uV40~9F~cEbXiEfF"><field name="BOOL">TRUE</field></shadow></value><next><block type="bluetooth_start_uart_service" id="KL~%b5MZ6/JY2q+.Qx-R"><next><block type="device_show_leds" id="64?_[nfP}Q*A.fi)0E4,"><field name="LEDS">`&#10;        # . # # . &#10;        . # # . # &#10;        . . # # . &#10;        . # # . # &#10;        # . # # .&#10;        `</field></block></next></block></next></block></statement></block><block type="bluetooth_on_data_received" id="N}f-yp|h`q+B(lI6#Gr8" x="-71" y="435"><value name="delimiters"><shadow type="serial_delimiter_conv" id="VNf@ZnET;LGlY=+#4bQ="><field name="del">Delimiters.Dollar</field></shadow></value><statement name="HANDLER"><block type="variables_set" id="x4ih;V[wlQb.^)./FP^x"><field name="VAR" id="dS3,QeJBPcoT?et@QjGy">command</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="bluetooth_uart_read" id="1([d]xOaL|JqiCQlW*d5"><value name="del"><shadow type="serial_delimiter_conv" id=")0rjCaI0~Hgt+mA|G)}`"><field name="del">Delimiters.Dollar</field></shadow></value></block></value><next><block type="variables_set" id="hor=LQBg2g)%pV|HI{p}"><field name="VAR" id="+7M8*~sBk^5JkW^h0p0?">command_code</field><value name="VALUE"><shadow type="math_number" id="O`jeViE5,]+RnmwDCI!,"><field name="NUM">0</field></shadow><block type="string_split" id="8b_1R@N!d7,;bL1mVOZl"><value name="this"><shadow type="text" id="+7B:eqC`ts21F@d%Bsf_"><field name="TEXT">this</field></shadow><block type="variables_get" id="{;gaSxZ=FLYYo%){#)]y"><field name="VAR" id="dS3,QeJBPcoT?et@QjGy">command</field></block></value><value name="separator"><shadow type="text" id="wKI93([G;BoiSSnpA{,O"><field name="TEXT">:</field></shadow></value></block></value><next><block type="serial_writeline" id=".#ZBpO#v2lV_B+#Y=[(W"><value name="text"><shadow type="text" id="F|NxZO6M?ixuCh__@%RY"><field name="TEXT">connesso</field></shadow><block type="text_join" id="]YXOm27yeK/eM+q%`aM6"><mutation items="2"/><value name="ADD0"><shadow type="text" id="RlWMBU.{zZ?9b5+/3%TJ"><field name="TEXT">command code:</field></shadow></value><value name="ADD1"><shadow type="text" id="o@I}kAULno|+skxt~}7g"><field name="TEXT">World</field></shadow><block type="variables_get" id="c|WEnwHQJcGKcH?QY^^t"><field name="VAR" id="+7M8*~sBk^5JkW^h0p0?">command_code</field></block></value></block></value><next><block type="controls_if" id="CfZit4|2^w|yo(1G$D}q"><mutation elseif="1" else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="C{*q}=pdpRbCE%k}P%$o"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="|?BKN:e|}lg#b*S0]VpQ"><field name="NUM">0</field></shadow><block type="lists_index_get" id="_8yQd/:FpS{.{{ak*j$d"><value name="LIST"><block type="variables_get" id="x;ql#;TaEMI$2i$vlU=0"><field name="VAR" id="+7M8*~sBk^5JkW^h0p0?">command_code</field></block></value><value name="INDEX"><shadow type="math_number" id="gs:Q:iLG_[F}5ufh(AXu"><field name="NUM">0</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">9</field></shadow><block type="text" id="Zh|]`,d=9:G)_XC9v%|)"><field name="TEXT">P</field></block></value></block></value><statement name="DO0"><block type="serial_writeline" id="J(]sVFFxBggejiz)dX2r"><value name="text"><shadow type="text" id="G$I.2O+4QgK}lKj03V(D"><field name="TEXT">requested password</field></shadow></value><next><block type="function_call" id="-(11)-pxLc4Jq4SwRoi]"><mutation name="cmdPassword" functionid="4mq2sM*tUS@2B,XN2coN"><arg name="pwd" id="MK$ZH;f$c.,u2hs8d6Qo" type="string"/></mutation><value name="MK$ZH;f$c.,u2hs8d6Qo"><shadow type="text" id="85{5:jE-=lD%`vJ4wxIW"><field name="TEXT">abc</field></shadow><block type="lists_index_get" id="T-,`8?1zXjP88t6p-VGN"><value name="LIST"><block type="variables_get" id="Loh%8=FU|`,_HXElQUPD"><field name="VAR" id="+7M8*~sBk^5JkW^h0p0?">command_code</field></block></value><value name="INDEX"><shadow type="math_number" id="MOIs#cj^H6rewl+=O{l$"><field name="NUM">1</field></shadow></value></block></value></block></next></block></statement><value name="IF1"><block type="logic_compare" id="LvF`XW@Zj8g=7pdI~tQA"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="_vS6/Perp?]$ZCH})TIu"><field name="NUM">0</field></shadow><block type="lists_index_get" id="Hfb_PaRaYEtpm/5Po3g~"><value name="LIST"><block type="variables_get" id="H@2)s9al;a/C{jAvqN3~"><field name="VAR" id="+7M8*~sBk^5JkW^h0p0?">command_code</field></block></value><value name="INDEX"><shadow type="math_number" id="!H[r*`YifAh|U8b?A,T%"><field name="NUM">0</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">9</field></shadow><block type="text" id="ZdTFh#(/)OSplOxTHw$s"><field name="TEXT">1</field></block></value></block></value><statement name="DO1"><block type="serial_writeline" id="^5$lj+y1i~91M5Y0ut2s"><value name="text"><shadow type="text" id="kbEZaD9ljx!A4J;QO`$A"><field name="TEXT">requested pin activation</field></shadow></value><next><block type="function_call" id="m[/}/ru#{oOjl#WMkSk."><mutation name="activatePin" functionid="H3rl0-(C+U=_x=W8nEVw"/></block></next></block></statement><statement name="ELSE"><block type="serial_writeline" id="svQ[$G*|.?0Yu*=QX9l."><value name="text"><shadow type="text" id="~%oaCIAJl:$n#i^d7c7*"><field name="TEXT">invalid command</field></shadow></value></block></statement></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="1i9WR`^+H129}BTAde60" x="485" y="857"><mutation name="setPin" functionid="4MEZ0?8enq;gS8Ykjfo5"/><field name="function_name">setPin</field></block><block type="function_definition" id=":ib;d?echM~Z?r.kcvTy" x="-60" y="1235"><mutation name="activatePin" functionid="H3rl0-(C+U=_x=W8nEVw"/><field name="function_name">activatePin</field><statement name="STACK"><block type="serial_writeline" id="*A2|d1i6`72oXw;]Zmfq"><value name="text"><shadow type="text" id="1T7$-:2LD$rHz/;PcM#U"><field name="TEXT">activatePin</field></shadow></value><next><block type="controls_if" id=".[u$mSMS,0WMN^([wrlD"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="pv-SIW}#EBuMm8rbSzcK"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="{?E9cxn(n(P.UUQsH5(j"><field name="VAR" id="QS-GyoggW[5og9,I(Q[P">ble_connected</field></block></value><value name="B"><shadow type="math_number" id="ygXakdC?}pR]CRQbHOH/"><field name="NUM">2</field></shadow></value></block></value><statement name="DO0"><block type="serial_writeline" id="Opv-wo?+NVVnEi1u/L#_"><value name="text"><shadow type="text" id="2/:6-Xcio7q}n@:/ql.O"><field name="TEXT">activating...</field></shadow></value><next><block type="bluetooth_uart_writenumber" id=")Dy+Z$A`f0|0!k/K=p3A"><value name="value"><shadow type="math_number" id="h;@T3S!UByW:Cz4w^l[A"><field name="NUM">0</field></shadow></value><next><block type="device_set_digital_pin" id="X(e6nZeH9Q+zWPiL,J^x"><field name="name">DigitalPin.P0</field><value name="value"><shadow type="math_number_minmax" id="`3j^z#w%zZ8fHBbwnw0w"><mutation min="0" max="1" label="Value" precision="0"/><field name="SLIDER">1</field></shadow></value></block></next></block></next></block></statement><statement name="ELSE"><block type="serial_writeline" id="W9!a%4mtdgN/Hp$VGqXX"><value name="text"><shadow type="text" id="[El*s^[]PGzR.c_e[hoL"><field name="TEXT">access denied</field></shadow></value><next><block type="bluetooth_uart_writenumber" id="Gdjww=Qk2-Zv)M3TP.p."><value name="value"><shadow type="math_number" id="A;6J{,f{:2$6NWnA!u7s"><field name="NUM">1</field></shadow></value></block></next></block></statement></block></next></block></statement></block><block type="function_definition" id="7bQ3l7zk%GN77-|^u7.t" x="560" y="1221"><mutation name="cmdPassword" functionid="4mq2sM*tUS@2B,XN2coN"><arg name="pwd" id="MK$ZH;f$c.,u2hs8d6Qo" type="string"/></mutation><field name="function_name">cmdPassword</field><value name="MK$ZH;f$c.,u2hs8d6Qo"><shadow type="argument_reporter_string" id="4QS:jLnhU:%oAu=JG6G:"><field name="VALUE">pwd</field></shadow></value><statement name="STACK"><block type="serial_writeline" id="]F8-~HDm@3MHtI)B!pE?"><value name="text"><shadow type="text"><field name="TEXT">connesso</field></shadow><block type="text_join" id="OzrQ0$FI#%,n;9=,~8en"><mutation items="2"/><value name="ADD0"><shadow type="text" id="hXa%`Tum]EzOV.)fg5pW"><field name="TEXT">received password:</field></shadow></value><value name="ADD1"><shadow type="text" id="n*+C.#1BF_-jfd09{rfP"><field name="TEXT">World</field></shadow><block type="argument_reporter_string" id="k=RR`JPrqe?sgaSKx@HM"><field name="VALUE">pwd</field></block></value></block></value><next><block type="controls_if" id="_CIY.SVV?(76rvg8tD5$"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="N;/Vv.y|:;t%#I#q;lba"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_string" id="g+;ckTPdVNU@5fq|irJ^"><field name="VALUE">pwd</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">9</field></shadow><block type="variables_get" id="Id2K=PFw/W`#hU!r#e]3"><field name="VAR" id="zw=zKy*xZ!6}L~GE!]%x">SYS_PASSWORD</field></block></value></block></value><statement name="DO0"><block type="serial_writeline" id="QMm@W;ALc^9]$rQwg{`K"><value name="text"><shadow type="text" id="hX]emmGes1Jnd?SaT||I"><field name="TEXT">password ok</field></shadow></value><next><block type="variables_set" id="(beU%%+whW9nI]Z_=N@*"><field name="VAR" id="QS-GyoggW[5og9,I(Q[P">ble_connected</field><value name="VALUE"><shadow type="math_number" id="KHdK]CeO2^-#wu*^^@@V"><field name="NUM">2</field></shadow></value><next><block type="function_call" id="[6#Cw=0(B4O_ewXhn6#D"><mutation name="publishBLEServices" functionid="h8z-WT%zL4|jy)9aF_k("/><next><block type="device_show_leds" id="JMQ,[+T,vp~=,ADk~dX;"><field name="LEDS">`&#10;        . . . . . &#10;        . . . . # &#10;        . . . # . &#10;        # . # . . &#10;        . # . . .&#10;        `</field><next><block type="bluetooth_uart_writenumber" id="/hj}bHV=!*wpuBHOlh(."><value name="value"><shadow type="math_number" id="{z$X4G)dn3Mi9GI[[=Z2"><field name="NUM">0</field></shadow></value></block></next></block></next></block></next></block></next></block></statement><statement name="ELSE"><block type="serial_writeline" id="AHC9bK?Vh!N#zGcS_.bF"><value name="text"><shadow type="text" id="y-tdmEZU_h!HXL=(vUoE"><field name="TEXT">password ko</field></shadow><block type="text_join" id="$dV~u##{Dm~uVz3pOi$P"><mutation items="2"/><value name="ADD0"><shadow type="text" id="?EXg2=e`BnUVqZY1hgBT"><field name="TEXT">wrong password:</field></shadow></value><value name="ADD1"><shadow type="text" id="u`lCE`P~vzT9VnxduO0."><field name="TEXT">World</field></shadow><block type="argument_reporter_string" id="!qt$Sc5]W-Y46?^s=861"><field name="VALUE">pwd</field></block></value></block></value><next><block type="bluetooth_uart_writenumber" id="BaVfa@:9,05!z,)n)U1k"><value name="value"><shadow type="math_number" id="c-[m8FgDcvgy4jP?_*x1"><field name="NUM">1</field></shadow></value><next><block type="eddystone_stop_advertising" id="@QsBf6,kE7*ci1c{n$^F"><next><block type="function_call" id="e~umaOxokdS(%)Ami^#_"><mutation name="basicBLEAdvertise" functionid="!^et#Zn;Xl)f3qE$T{:B"/></block></next></block></next></block></next></block></statement></block></next></block></statement></block><block type="device_button_event" id=":NJtNIb[q7,(e_,:f~Ig" x="1220" y="1517"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="bluetooth_uart_writenumber" id="ClO`pHD3KPd@28Z?aC]1"><value name="value"><shadow type="math_number" id="A:p/L6jjmb_wQEs!ZIZN"><field name="NUM">9</field></shadow></value></block></statement></block></xml>